{"version":3,"sources":["hooks/useQuery.js","pages/Payments.jsx"],"names":["useQuery","search","useLocation","useMemo","URLSearchParams","require","makeStyles","Typography","CircularProgress","Button","useStyles","theme","root","flex","position","marginTop","width","margin","display","flexDirection","gap","padding","breakpoints","down","loader","flexContainer","justifyContent","alignItems","marginBottom","wordBreak","moreDetailButton","marginLeft","marginRight","Payments","classes","query","userDataUid","useSelector","state","user","userData","uid","sessionId","get","useFetchSessionQuery","skip","data","isLoading","history","useHistory","className","variant","gutterBottom","align","session","id","paymentStatus","customerEmail","price","name","amount","quantity","resumeUrl","color","onClick","window","location","href","receiptUrl","open","push"],"mappings":"sJASeA,EANE,WACf,IAAQC,EAAWC,cAAXD,OAER,OAAOE,mBAAQ,kBAAM,IAAIC,gBAAgBH,KAAS,CAACA,K,OCDrD,EAKII,EAAQ,IAJVC,EADF,EACEA,WACAC,EAFF,EAEEA,WACAC,EAHF,EAGEA,iBACAC,EAJF,EAIEA,OAGIC,EAAYJ,GAAW,SAACK,GAAD,YAAY,CACvCC,MAAI,GACFC,KAAM,EACNC,SAAU,WACVC,UAAW,OACXC,MAAO,MACPC,OAAQ,SACRC,QAAS,OACTC,cAAe,SACfC,IAAK,OACLC,QAAS,YATP,cAUDV,EAAMW,YAAYC,KAAK,MAAQ,CAC9BR,UAAW,OACXC,MAAO,MACPI,IAAK,WAbL,cAeDT,EAAMW,YAAYC,KAAK,MAAQ,CAC9BP,MAAO,SAhBP,GAmBJQ,OAAQ,CACNR,MAAO,cACPC,OAAQ,QAEVQ,cAAc,aACZP,QAAS,OACTC,cAAe,MACfO,eAAgB,gBAChBC,WAAY,SACZC,aAAc,QACbjB,EAAMW,YAAYC,KAAK,MAAQ,CAC9BJ,cAAe,SACfQ,WAAY,aACZC,aAAc,SAEd,MAAO,CACLC,UAAW,eAIjBC,iBAAkB,CAChBf,UAAW,OACXgB,WAAY,OACZC,YAAa,YAwGFC,UApGE,WAEf,IAAMC,EAAUxB,IAGVyB,EAAQnC,IACRoC,EAAcC,uBAAY,SAACC,GAAD,sBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,YAAlB,iBAAW,EAAaC,gBAAxB,aAAW,EAAuBC,OAE5DC,EAAYP,EAAMQ,IAAI,aAE5B,EAA4BC,YAC1B,CACEF,aAEF,CACEG,MAAOH,IAAcN,IALjBU,EAAR,EAAQA,KAAMC,EAAd,EAAcA,UASRC,EAAUC,cAEhB,OACE,sBAAKC,UAAWhB,EAAQtB,KAAxB,UACGmC,EACC,qBAAKG,UAAWhB,EAAQV,OAAxB,SACE,cAAChB,EAAD,MAGFsC,GACE,gCACE,cAACvC,EAAD,CAAY4C,QAAQ,KAAKC,cAAY,EAACC,MAAM,SAA5C,6BAGA,sBAAKH,UAAWhB,EAAQT,cAAxB,UACE,cAAClB,EAAD,CAAY4C,QAAQ,QAApB,wBACA,cAAC5C,EAAD,CAAY4C,QAAQ,QAApB,SAA6BL,EAAKQ,QAAQC,QAE5C,sBAAKL,UAAWhB,EAAQT,cAAxB,UACE,cAAClB,EAAD,CAAY4C,QAAQ,QAApB,4BACA,cAAC5C,EAAD,CAAY4C,QAAQ,QAApB,SACGL,EAAKQ,QAAQE,mBAGlB,sBAAKN,UAAWhB,EAAQT,cAAxB,UACE,cAAClB,EAAD,CAAY4C,QAAQ,QAApB,4BACA,cAAC5C,EAAD,CAAY4C,QAAQ,QAApB,SAA6BL,EAAKW,mBAEpC,sBAAKP,UAAWhB,EAAQT,cAAxB,UACE,cAAClB,EAAD,CAAY4C,QAAQ,QAApB,+BACA,cAAC5C,EAAD,CAAY4C,QAAQ,QAApB,SAA6BL,EAAKY,MAAMC,UAE1C,sBAAKT,UAAWhB,EAAQT,cAAxB,UACE,cAAClB,EAAD,CAAY4C,QAAQ,QAApB,oBACA,eAAC5C,EAAD,CAAY4C,QAAQ,QAApB,oBAA+BL,EAAKY,MAAME,aAE5C,sBAAKV,UAAWhB,EAAQT,cAAxB,UACE,cAAClB,EAAD,CAAY4C,QAAQ,QAApB,uCACA,cAAC5C,EAAD,CAAY4C,QAAQ,QAApB,SAA6BL,EAAKY,MAAMG,cAE1C,sBAAKX,UAAWhB,EAAQT,cAAxB,UACGqB,EAAKQ,QAAQQ,WACZ,cAACrD,EAAD,CACEyC,UAAWhB,EAAQJ,iBACnBqB,QAAQ,YACRY,MAAM,YACNC,QAAS,kBACNC,OAAOC,SAASC,KAAOrB,EAAKQ,QAAQQ,WALzC,2BAWDhB,EAAKQ,QAAQc,YACZ,cAAC3D,EAAD,CACEyC,UAAWhB,EAAQJ,iBACnBqB,QAAQ,YACRY,MAAM,YACNC,QAAS,kBAAMC,OAAOI,KAAKvB,EAAKQ,QAAQc,aAJ1C,gCAaV,qBAAKlB,UAAWhB,EAAQT,cAAxB,SACE,cAAChB,EAAD,CACEyC,UAAWhB,EAAQJ,iBACnBqB,QAAQ,YACRY,MAAM,UACNC,QAAS,kBAAMhB,EAAQsB,KAAK,eAJ9B","file":"static/js/11.70eceaa6.chunk.js","sourcesContent":["import { useLocation } from \"react-router-dom\";\nimport { useMemo } from \"react\";\n\nconst useQuery = () => {\n  const { search } = useLocation();\n\n  return useMemo(() => new URLSearchParams(search), [search]);\n};\n\nexport default useQuery;\n","import { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useFetchSessionQuery } from \"../features/payments-api/payments-api-slice\";\nimport useQuery from \"../hooks/useQuery\";\n\nconst {\n  makeStyles,\n  Typography,\n  CircularProgress,\n  Button,\n} = require(\"@material-ui/core\");\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    position: \"relative\",\n    marginTop: \"7rem\",\n    width: \"60%\",\n    margin: \"0 auto\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"1rem\",\n    padding: \"1.5rem 0\",\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: \"10vh\",\n      width: \"90%\",\n      gap: \"0.5rem\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n    },\n  },\n  loader: {\n    width: \"fit-content\",\n    margin: \"auto\",\n  },\n  flexContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: \"1rem\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n      marginBottom: \"0.5rem\",\n\n      \"& *\": {\n        wordBreak: \"break-all\",\n      },\n    },\n  },\n  moreDetailButton: {\n    marginTop: \"1rem\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n}));\n\nconst Payments = () => {\n  // styles\n  const classes = useStyles();\n\n  // query\n  const query = useQuery();\n  const userDataUid = useSelector((state) => state?.user?.userData?.uid);\n\n  const sessionId = query.get(\"sessionId\");\n\n  const { data, isLoading } = useFetchSessionQuery(\n    {\n      sessionId,\n    },\n    {\n      skip: !sessionId || !userDataUid,\n    }\n  );\n\n  const history = useHistory();\n\n  return (\n    <div className={classes.root}>\n      {isLoading ? (\n        <div className={classes.loader}>\n          <CircularProgress />\n        </div>\n      ) : (\n        data && (\n          <div>\n            <Typography variant=\"h5\" gutterBottom align=\"center\">\n              Payment Details\n            </Typography>\n            <div className={classes.flexContainer}>\n              <Typography variant=\"body1\">Session Id</Typography>\n              <Typography variant=\"body2\">{data.session.id}</Typography>\n            </div>\n            <div className={classes.flexContainer}>\n              <Typography variant=\"body1\">Payment Status</Typography>\n              <Typography variant=\"body2\">\n                {data.session.paymentStatus}\n              </Typography>\n            </div>\n            <div className={classes.flexContainer}>\n              <Typography variant=\"body1\">Customer Email</Typography>\n              <Typography variant=\"body2\">{data.customerEmail}</Typography>\n            </div>\n            <div className={classes.flexContainer}>\n              <Typography variant=\"body1\">VCoin Bundle Name</Typography>\n              <Typography variant=\"body2\">{data.price.name}</Typography>\n            </div>\n            <div className={classes.flexContainer}>\n              <Typography variant=\"body1\">Amount</Typography>\n              <Typography variant=\"body2\">â‚¹ {data.price.amount}</Typography>\n            </div>\n            <div className={classes.flexContainer}>\n              <Typography variant=\"body1\">Number Of VCoin Purchased</Typography>\n              <Typography variant=\"body2\">{data.price.quantity}</Typography>\n            </div>\n            <div className={classes.flexContainer}>\n              {data.session.resumeUrl && (\n                <Button\n                  className={classes.moreDetailButton}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() =>\n                    (window.location.href = data.session.resumeUrl)\n                  }\n                >\n                  Retry Payment\n                </Button>\n              )}\n              {data.session.receiptUrl && (\n                <Button\n                  className={classes.moreDetailButton}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() => window.open(data.session.receiptUrl)}\n                >\n                  More Details\n                </Button>\n              )}\n            </div>\n          </div>\n        )\n      )}\n      <div className={classes.flexContainer}>\n        <Button\n          className={classes.moreDetailButton}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => history.push(\"/dashboard\")}\n        >\n          Go To Dashboard\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Payments;\n"],"sourceRoot":""}