{"version":3,"sources":["features/payments-api/payments-api-slice.js","features/suggestions-api/suggestions-api-slice.js","features/call/call-slice.js","features/call-api/call-api-slice.js","components/CoinCounter/CoinCounter.jsx","assets/vsCoin.svg","features/friends/friends-slice.js","lib/firebase/firebase.js","features/user/user-slice.js","features/ui/ui-slice.js","components/SearchResultCard/SearchResultCard.jsx","features/search-api/search-api-slice.js","components/NavSearchBar/NavSearchBar.jsx","features/notifications/notifications-slice.js","components/NotificationCard/NotificationCard.jsx","components/NotificationDropDown/NotificationDropDown.jsx","components/Navbar/Navbar.jsx","components/Blurred/Blurred.jsx","components/FullPageLoader/FullPageLoader.jsx","components/CallChart/CallChart.jsx","features/user-api/user-api-slice.js","components/PaymentsTable/PaymentsTable.jsx","pages/Profile.jsx","App.jsx","lib/material-ui/theme.js","app/store.js","serviceWorkerRegistration.js","index.js","utils/rtkQueryToastLoader.js","features/friends-api/friends-api-slice.js"],"names":["paymentsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","a","auth","currentUser","getIdToken","token","set","endpoints","builder","fetchProducts","query","transformResponse","response","prices","sort","b","amount","checkout","mutation","data","url","method","body","onQueryStarted","_data","queryFulfilled","rtkQueryToastLoader","session","id","window","location","href","fetchSession","fetchAllSessionsOfUser","useFetchProductsQuery","useCheckoutMutation","useFetchSessionQuery","useFetchAllSessionsOfUserQuery","suggestionsApi","process","console","log","getSuggestions","useGetSuggestionsQuery","INITIAL_STATE","userOnOtherSide","isReceivingCall","incomingCallDetails","callingStatus","activeCall","activeCallDocId","callSlice","createSlice","name","initialState","reducers","setUserOnOtherSide","state","payload","setIsReceivingCall","setIncomingCallDetails","setCallingStatus","setActiveCall","setActiveCallDocId","resetCallDetails","actions","callApi","createCall","dispatch","callId","acceptCall","deleteCall","useCreateCallMutation","useDeleteCallMutation","useAcceptCallMutation","PaymentIntegrationModal","lazy","useStyles","makeStyles","theme","root","top","right","zIndex","background","padding","border","borderRadius","animation","cursor","transform","breakpoints","down","position","marginTop","width","margin","fontSize","coin","height","transition","opacity","container","display","justifyContent","alignItems","gap","CoinCounter","classes","useState","coins","setCoins","finalCoins","setFinalCoins","isLoading","setIsLoading","isOpen","setIsOpen","currentUserId","useSelector","user","userData","uid","currentUserRole","role","useEffect","timeout","diff","setTimeout","clearInterval","clearTimeout","unsubscribe","firestore","collection","doc","onSnapshot","snapshot","credits","error","className","style","size","onClick","open","onClose","fullWidth","fallback","_circle","_path","_path2","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgVsCoin","_ref","svgRef","title","titleId","props","viewBox","fill","xmlns","ref","cx","cy","r","stroke","strokeWidth","d","ForwardRef","sendFriendRequest","createAsyncThunk","thunkApi","friendUid","batch","timeStamp","serverTimestamp","notificationRef","senderNotificationRef","recieverNotificationRef","from","to","status","createdAt","lastModified","notificationId","seen","commit","message","rejectWithValue","friendsSlice","friendsData","friendRequestSendingStatus","isSuccess","isError","setFriends","extraReducers","addCase","fulfilled","rejected","pending","firebase","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","FieldValue","googleAuthProvider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","getUserDataFromUserAuth","userRef","get","snapShot","exists","displayName","photoURL","email","accountsRef","then","fetchUserData","toMillis","userSlice","action","uiSlice","fullPageBlurred","enableFullPageBlur","disableFullPageBlur","minHeight","marginBottom","backdropFilter","WebkitBackdropFilter","flex","callIcon","color","palette","secondary","main","avatar","spacing","SearchResultCard","isFriend","useSendFriendRequestMutation","sendReq","sendFriendReq","Paper","elevation","Avatar","alt","src","Typography","variant","searchApi","getSearchResultsPeople","searchString","params","useGetSearchResultsPeopleQuery","searchbar","maxWidth","minWidth","smoothAnimation","searchContainer","left","NavSearchBar","showResults","setShowResults","debouncedSearchString","setDebouncedSearchString","skip","users","useDispatch","ui","setDebouncedSearchStringFunction","useCallback","debounce","value","TextField","placeholder","onChange","e","InputProps","endAdornment","InputAdornment","notchedOutline","onFocus","onBlur","map","idx","notificationSlice","notificationCount","notificationsData","setNotificationCount","setNotifications","notificationBody","buttonContainer","NotificationCard","notification","toUser","setToUser","notificationRecieved","useAcceptFriendRequestMutation","acceptReq","useDeclineFriendRequestMutation","declineReq","res","acceptRequest","notifId","declineRequest","align","Button","conditionalButtons","maxHeight","overflowY","textAlign","NotificationDropDown","notifications","notifs","docs","array","notifSnapshot","push","ElevationScroll","children","trigger","useScrollTrigger","disableHysteresis","threshold","undefined","React","cloneElement","appBar","flexDirection","default","up","paddingLeft","paddingRight","logo","fontFamily","marginRight","navLinks","marginLeft","Navbar","useTheme","matches","useMediaQuery","matchLocation","useRouteMatch","notificationBar","setNotificationBar","where","path","refetch","initiate","AppBar","Badge","badgeContent","signOut","toast","success","ClickAwayListener","onClickAway","parentNode","disabled","enabled","Blurred","loader","FullPageLoader","CircularProgress","Chart","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","paper","overflowX","CallChart","incommingCalls","setIncommingCalls","outgoingCalls","setOutgoingCalls","chartRef","useRef","containerRef","last10Days","filter","Date","getTime","setDate","getDate","days","moment","isSame","labels","Array","day","dateString","toDateString","slice","reverse","unsubscribeFromOutgoingCallsCollection","unsubscribeFromIncomingCallsCollection","outgoingCallsCollectionQuery","calls","incomingCallsCollectionQuery","datasets","label","borderColor","backgroundColor","tension","primary","current","containerWidth","clientWidth","containerHeight","clientHeight","targetCtx","getContext","chart","resize","addEventListener","removeEventListener","options","responsive","maintainAspectRatio","interaction","mode","intersect","plugins","filler","propagate","legend","font","typography","htmlFontSize","text","family","weight","scales","y","type","ticks","precision","x","userApi","updateUser","deleteUser","useUpdateUserMutation","useDeleteUserMutation","columns","field","headerName","filterable","valueFormatter","format","sortable","renderCell","getValue","PaymentsTable","rows","setRows","pageSize","setPageSize","isMobile","currentUserUid","loading","isFetching","sessions","onPageSizeChange","newPageSize","rowsPerPageOptions","pagination","autoHeight","components","Toolbar","flexWrap","LoadingOverlay","LinearProgress","flexParent","avatarImage","editIcon","form","Profile","history","useHistory","userDetail","setUserDetail","dirty","setDirty","setOpen","deleteLoading","deleteSuccess","values","some","index","unsubscribeFromFriendsCollection","friendCollectionQuery","numFriends","prevState","handleUpdateUser","info","image","handleDeleteUser","overlap","anchorOrigin","vertical","horizontal","htmlFor","accept","files","reader","FileReader","split","Error","readAsDataURL","onload","result","whiteSpace","overflow","textOverflow","startIcon","gutterBottom","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","HomePage","Dashboard","CallPage","Payments","App","socketRef","onAuthStateChanged","io","on","close","Container","reverseOrder","exact","createTheme","store","configureStore","reducer","userReducer","friends","friendsReducer","uiReducer","notificationsReducer","callReducer","friendsApi","middleware","getDefaultMiddleware","concat","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById","URL","origin","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","promise","loadingMessage","callback","afterMessage","acceptFriendRequest","declineFriendRequest","removeFriend","useRemoveFriendMutation"],"mappings":"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","file":"static/js/main.2a2d5ee7.chunk.js","sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nimport { auth } from \"../../lib/firebase/firebase\";\nimport { rtkQueryToastLoader } from \"../../utils/rtkQueryToastLoader\";\n\nexport const paymentsApi = createApi({\n  reducerPath: \"paymentsApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      (process.env.NODE_ENV === \"production\"\n        ? process.env.REACT_APP_BACKEND_PROD\n        : process.env.REACT_APP_BACKEND_DEV) + \"/api/payments\",\n    prepareHeaders: async (headers) => {\n      const token = await auth.currentUser.getIdToken(true);\n      headers.set(\"Authorization\", `Bearer ${token}`);\n      return headers;\n    },\n  }),\n  endpoints: (builder) => ({\n    fetchProducts: builder.query({\n      query: () => `/products`,\n      transformResponse: (response) => {\n        const prices = response.prices || [];\n        prices.sort((a, b) => b.amount - a.amount);\n        return prices;\n      },\n    }),\n    checkout: builder.mutation({\n      query: (data) => ({\n        url: `/checkout`,\n        method: \"POST\",\n        body: data,\n      }),\n\n      onQueryStarted: (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(\n          queryFulfilled,\n          \"Starting Your Payment\",\n          async (response) => {\n            if (response.data?.session?.id) {\n              window.location.href = response.data.session.url;\n            }\n          },\n          true\n        );\n      },\n    }),\n\n    fetchSession: builder.query({\n      query: (data) => ({\n        url: \"/retrieveSessionDetails\",\n        method: \"POST\",\n        body: data,\n      }),\n      onQueryStarted: (data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Retrieving Your Payment\");\n      },\n    }),\n    fetchAllSessionsOfUser: builder.query({\n      query: () => `/retrieveAllSessionDetailsOfUser`,\n    }),\n  }),\n});\n\nexport const {\n  useFetchProductsQuery,\n  useCheckoutMutation,\n  useFetchSessionQuery,\n  useFetchAllSessionsOfUserQuery,\n} = paymentsApi;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport { auth } from \"../../lib/firebase/firebase\";\n\nexport const suggestionsApi = createApi({\n  reducerPath: \"suggestionsApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      process.env.NODE_ENV === \"production\"\n        ? process.env.REACT_APP_BACKEND_PROD\n        : process.env.REACT_APP_BACKEND_DEV,\n    prepareHeaders: async (headers) => {\n      const token = await auth.currentUser.getIdToken(true);\n      console.log(token);\n      headers.set(\"Authorization\", `Bearer ${token}`);\n      return headers;\n    },\n  }),\n  endpoints: (builder) => ({\n    getSuggestions: builder.query({\n      query: () => `api/suggestions`,\n    }),\n  }),\n});\n\nexport const { useGetSuggestionsQuery } = suggestionsApi;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst INITIAL_STATE = {\n  userOnOtherSide: null,\n  isReceivingCall: false,\n  incomingCallDetails: null,\n  callingStatus: false,\n  activeCall: null,\n  activeCallDocId: null,\n};\n\nconst callSlice = createSlice({\n  name: \"call\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    setUserOnOtherSide: (state, { payload }) => {\n      state.userOnOtherSide = payload;\n    },\n    setIsReceivingCall: (state, { payload }) => {\n      state.isReceivingCall = payload;\n    },\n    setIncomingCallDetails: (state, { payload }) => {\n      state.incomingCallDetails = payload;\n    },\n    setCallingStatus: (state, { payload }) => {\n      state.callingStatus = true;\n    },\n    setActiveCall: (state, { payload }) => {\n      state.activeCall = payload;\n    },\n    setActiveCallDocId: (state, { payload }) => {\n      state.activeCallDocId = payload;\n    },\n    resetCallDetails: () => {\n      return INITIAL_STATE;\n    },\n  },\n});\n\nexport const {\n  setUserOnOtherSide,\n  setIsReceivingCall,\n  setIncomingCallDetails,\n  setCallingStatus,\n  setActiveCall,\n  setActiveCallDocId,\n  resetCallDetails,\n} = callSlice.actions;\nexport default callSlice.reducer;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nimport { auth } from \"../../lib/firebase/firebase\";\nimport { rtkQueryToastLoader } from \"../../utils/rtkQueryToastLoader\";\nimport { setActiveCallDocId } from \"../call/call-slice\";\n\nexport const callApi = createApi({\n  reducerPath: \"callApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      (process.env.NODE_ENV === \"production\"\n        ? process.env.REACT_APP_BACKEND_PROD\n        : process.env.REACT_APP_BACKEND_DEV) + \"/api/call\",\n    prepareHeaders: async (headers) => {\n      const token = await auth.currentUser.getIdToken(true);\n      headers.set(\"Authorization\", `Bearer ${token}`);\n      return headers;\n    },\n  }),\n  endpoints: (builder) => ({\n    createCall: builder.mutation({\n      query: (data) => ({\n        url: \"/createCall\",\n        method: \"POST\",\n        body: data,\n      }),\n      onQueryStarted: async (_data, { queryFulfilled, dispatch }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Creating Call...\", (data) => {\n          dispatch(setActiveCallDocId(data.data.callId));\n        });\n      },\n    }),\n\n    acceptCall: builder.mutation({\n      query: (data) => ({\n        url: \"/acceptCall\",\n        method: \"POST\",\n        body: data,\n      }),\n\n      onQueryStarted: async (_data, { queryFulfilled, dispatch }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Accepting Call...\");\n      },\n    }),\n\n    deleteCall: builder.mutation({\n      query: (data) => ({\n        url: \"/deleteCall\",\n        method: \"POST\",\n        body: data,\n      }),\n      onQueryStarted: async (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Deleting Call...\");\n      },\n    }),\n  }),\n});\n\nexport const {\n  useCreateCallMutation,\n  useDeleteCallMutation,\n  useAcceptCallMutation,\n} = callApi;\n","import { CircularProgress, makeStyles, Dialog } from \"@material-ui/core\";\nimport { lazy, useEffect, useState } from \"react\";\nimport { ReactComponent as Coin } from \"../../assets/vsCoin.svg\";\nimport { Suspense } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { firestore } from \"../../lib/firebase/firebase\";\n// lazy imports\nconst PaymentIntegrationModal = lazy(() =>\n  import(\"../PaymentIntegrationModal/PaymentIntegrationModal\")\n);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    top: 10,\n    right: 10,\n    zIndex: 10,\n\n    background: \"rgba(0, 0, 0, 0.4)\",\n    padding: \"0.2rem 0.5rem\",\n\n    border: \"3px solid rgba(0, 0, 0, 0.5)\",\n    borderRadius: \"1rem\",\n    animation: \"$fadeIn 0.5s ease\",\n\n    cursor: \"pointer\",\n\n    \"&:active\": {\n      \"& svg\": {\n        transform: \"scale(1) rotate(0)\",\n      },\n    },\n\n    \"&:hover\": {\n      background: \"rgba(0, 0, 0, 0.6)\",\n      \"& svg\": {\n        transform: \"scale(1.1) rotate(-15deg)\",\n      },\n    },\n\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"static !important\",\n      marginTop: \"1rem\",\n      width: \"fit-content\",\n      margin: \"auto\",\n      fontSize: \"0.8rem\",\n    },\n  },\n  coin: {\n    width: \"1.5rem\",\n    height: \"1.5rem\",\n    transition: \"all 0.5s ease\",\n  },\n  \"@keyframes fadeIn\": {\n    \"0%\": {\n      opacity: 0,\n      transform: \"scaleY(0)\",\n    },\n    \"100%\": {\n      opacity: 1,\n      transform: \"scaleY(5rem)\",\n    },\n  },\n  container: {\n    animation: \"$fadeIn 0.5s ease\",\n\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n\n    transition: \"all 0.5s ease\",\n    gap: \"0.5rem\",\n  },\n}));\n\nconst CoinCounter = ({ position = \"absolute\" }) => {\n  // styles\n  const classes = useStyles();\n\n  const [coins, setCoins] = useState(0);\n  const [finalCoins, setFinalCoins] = useState(0);\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const currentUserId = useSelector((state) => state.user.userData.uid);\n  const currentUserRole = useSelector((state) => state.user.userData.role);\n\n  // animate coin counter\n  useEffect(() => {\n    let timeout;\n    if (coins === finalCoins) {\n      clearTimeout(timeout);\n      return;\n    } else {\n      const diff = finalCoins - coins;\n      timeout = setTimeout(() => {\n        if (coins === finalCoins) {\n          clearInterval(timeout);\n        } else {\n          if (diff > 0) {\n            setCoins(coins + 1);\n          } else {\n            setCoins(coins - 1);\n          }\n        }\n      }, 50);\n    }\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [coins, finalCoins]);\n\n  useEffect(() => {\n    // add firestore listner to listen for credits\n    let unsubscribe = () => {};\n    if (currentUserRole === \"user\") {\n      unsubscribe = firestore\n        .collection(\"accounts\")\n        .doc(currentUserId)\n        .onSnapshot(\n          (snapshot) => {\n            const data = snapshot.data();\n            if (data) {\n              setFinalCoins(data.credits);\n              setIsLoading(false);\n            }\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n    }\n\n    if (currentUserRole === \"unlimited\") {\n      setIsLoading(false);\n    }\n\n    return () => {\n      unsubscribe();\n    };\n  }, [currentUserId, currentUserRole]);\n\n  return (\n    <>\n      <div className={classes.root} style={{ position }}>\n        {!isLoading ? (\n          <div\n            onClick={() => currentUserRole === \"user\" && setIsOpen(true)}\n            className={classes.container}\n          >\n            <Coin className={classes.coin} />x\n            <span\n              style={{ fontSize: currentUserRole === \"unlimited\" ? 20 : 16 }}\n            >\n              {currentUserRole === \"user\" ? coins : \"∞\"}\n            </span>\n          </div>\n        ) : (\n          <CircularProgress size={20} />\n        )}\n      </div>\n\n      <Dialog\n        open={isOpen}\n        onClose={() => setIsOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n        fullWidth\n      >\n        <Suspense\n          fallback={\n            <div\n              className={classes.container}\n              style={{\n                width: \"100%\",\n                height: \"100vh\",\n              }}\n            >\n              <CircularProgress />\n            </div>\n          }\n        >\n          <PaymentIntegrationModal />\n        </Suspense>\n      </Dialog>\n    </>\n  );\n};\n\nexport default CoinCounter;\n","var _circle, _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVsCoin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 100,\n    height: 100,\n    viewBox: \"0 0 100 100\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 50,\n    cy: 50,\n    r: 47.5,\n    fill: \"#FFD97B\",\n    stroke: \"#B79236\",\n    strokeWidth: 5\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M71.0305 48.6882H76.6151C76.6151 34.3635 65.8005 23.5601 51.4563 23.5601V29.1447C62.7987 29.1447 71.0305 37.3625 71.0305 48.6882Z\",\n    fill: \"#B79236\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.4843 40.3143C57.3566 40.3143 59.8613 42.819 59.8613 48.6912H65.4459C65.4459 39.686 60.4895 34.7296 51.4843 34.7296V40.3143ZM61.0396 55.5129C60.5031 55.0252 59.798 54.7651 59.0733 54.7875C58.3486 54.8099 57.6609 55.1131 57.1555 55.633L50.4735 62.5049C48.8651 62.1977 45.6316 61.1897 42.3032 57.8696C38.9747 54.5384 37.9667 51.2965 37.6679 49.6993L44.5342 43.0145C45.0547 42.5094 45.3583 41.8216 45.3807 41.0967C45.4032 40.3718 45.1426 39.6666 44.6543 39.1303L34.3367 27.7851C33.8481 27.2472 33.1691 26.9209 32.4439 26.8756C31.7187 26.8302 31.0043 27.0694 30.4525 27.5422L24.3932 32.7387C23.9104 33.2232 23.6223 33.8681 23.5834 34.5509C23.5415 35.249 22.7429 51.7851 35.5653 64.6131C46.7513 75.7963 60.7632 76.6144 64.6222 76.6144C65.1862 76.6144 65.5325 76.5977 65.6246 76.5921C66.3074 76.5539 66.9519 76.2645 67.434 75.7795L72.6278 69.7174C73.101 69.166 73.3406 68.4519 73.2957 67.7266C73.2509 67.0014 72.9251 66.3222 72.3876 65.8333L61.0396 55.5129V55.5129Z\",\n    fill: \"#B79236\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVsCoin);\nexport default __webpack_public_path__ + \"static/media/vsCoin.0097c837.svg\";\nexport { ForwardRef as ReactComponent };","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { firestore, serverTimestamp } from \"../../lib/firebase/firebase\";\n\nconst INITIAL_STATE = {\n  friendsData: [],\n  friendRequestSendingStatus: {\n    isSuccess: false,\n    isError: null,\n    message: \"\",\n  },\n  error: null,\n};\n\n// thunks\nexport const sendFriendRequest = createAsyncThunk(\n  \"friends/sendFriendRequest\",\n  async ({ friendUid, uid }, thunkApi) => {\n    if (!friendUid) {\n      return null;\n    }\n    try {\n      const batch = firestore.batch();\n      const timeStamp = serverTimestamp();\n      const notificationRef = firestore.collection(\"notifications\").doc();\n      const senderNotificationRef = firestore\n        .collection(\"users\")\n        .doc(uid)\n        .collection(\"notifications\")\n        .doc(notificationRef.id);\n\n      const recieverNotificationRef = firestore\n        .collection(\"users\")\n        .doc(friendUid)\n        .collection(\"notifications\")\n        .doc(notificationRef.id);\n\n      batch.set(notificationRef, {\n        from: uid,\n        to: friendUid,\n        status: \"pending\",\n        createdAt: timeStamp,\n        lastModified: timeStamp,\n      });\n\n      batch.set(senderNotificationRef, {\n        notificationId: notificationRef.id,\n        status: \"pending\",\n        seen: false,\n      });\n\n      batch.set(recieverNotificationRef, {\n        notificationId: notificationRef.id,\n        status: \"pending\",\n        seen: false,\n      });\n\n      await batch.commit();\n\n      return { message: \"Successfully sent request\" };\n    } catch (error) {\n      return thunkApi.rejectWithValue({\n        message: \"Error Sending Request\",\n      });\n    }\n  }\n);\n\nconst friendsSlice = createSlice({\n  name: \"friends\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    setFriends: (state, { payload }) => {\n      state.friendsData = payload;\n    },\n  },\n\n  extraReducers: (builder) => {\n    builder.addCase(sendFriendRequest.fulfilled, (state, { payload }) => {\n      state.friendRequestSendingStatus = {\n        isError: null,\n\n        isSuccess: true,\n        message: payload,\n      };\n    });\n    builder.addCase(sendFriendRequest.rejected, (state, { payload }) => {\n      state.friendRequestSendingStatus = {\n        isError: true,\n\n        isSuccess: false,\n        message: payload,\n      };\n    });\n    builder.addCase(sendFriendRequest.pending, (state, { payload }) => {\n      state.friendRequestSendingStatus = {\n        isError: null,\n\n        isSuccess: false,\n        message: \"\",\n      };\n    });\n  },\n});\n\nexport const { setFriends } = friendsSlice.actions;\nexport default friendsSlice.reducer;\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSANGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const serverTimestamp = firebase.firestore.FieldValue.serverTimestamp;\n\n// signing in with google\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport const signInWithGoogle = async () => {\n  await auth.signInWithPopup(googleAuthProvider);\n};\n\n// getting userData from firestore\n\nexport const getUserDataFromUserAuth = async (user) => {\n  const userRef = firestore.collection(\"users\").doc(user.uid);\n  const snapShot = await userRef.get();\n  if (snapShot.exists) {\n    return snapShot.data();\n  } else {\n    const batch = firestore.batch();\n\n    const data = {\n      uid: user.uid,\n      displayName: user.displayName,\n      status: \"Hello There!! M new here\",\n      photoURL: user.photoURL,\n      email: user.email,\n      createdAt: serverTimestamp(),\n      role: \"user\",\n    };\n\n    batch.set(userRef, data);\n\n    // set accounts\n    const accountsRef = firestore.collection(\"accounts\").doc(user.uid);\n    batch.set(accountsRef, {\n      uid: user.uid,\n      credits: 50,\n    });\n\n    await batch.commit();\n\n    return await userRef.get().then((doc) => {\n      return doc.data();\n    });\n  }\n};\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { getUserDataFromUserAuth } from \"../../lib/firebase/firebase\";\n\nconst INITIAL_STATE = {\n  userData: null,\n  error: null,\n};\n\n// thunks\nexport const fetchUserData = createAsyncThunk(\n  \"user/fetchUserData\",\n  async (user, thunkApi) => {\n    if (!user) {\n      return null;\n    }\n\n    try {\n      const userData = await getUserDataFromUserAuth(user);\n      return { ...userData, createdAt: userData?.createdAt?.toMillis() };\n    } catch (error) {\n      console.error(error);\n      return thunkApi.rejectWithValue({\n        message: \"Error Getting Users\",\n      });\n    }\n  }\n);\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    // setUser: (state, action) => {\n    //   state.userData = action.payload;\n    // },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchUserData.fulfilled, (state, action) => {\n      state.userData = action.payload;\n      state.error = null;\n    });\n\n    builder.addCase(fetchUserData.rejected, (state, action) => {\n      state.userData = null;\n      state.error = action.payload;\n    });\n  },\n});\n\n// export const { setUser } = userSlice.actions;\nexport default userSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst INITIAL_STATE = {\n  fullPageBlurred: false,\n};\n\nconst uiSlice = createSlice({\n  name: \"ui\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    enableFullPageBlur: (state) => {\n      state.fullPageBlurred = true;\n    },\n    disableFullPageBlur: (state) => {\n      state.fullPageBlurred = false;\n    },\n  },\n});\n\nexport const { enableFullPageBlur, disableFullPageBlur } = uiSlice.actions;\nexport default uiSlice.reducer;\n","import { Avatar, makeStyles, Paper, Typography } from \"@material-ui/core\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport { useSelector } from \"react-redux\";\nimport { useSendFriendRequestMutation } from \"../../features/friends-api/friends-api-slice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    minHeight: \"5rem\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    gap: \"1rem\",\n    padding: \"0.5rem\",\n    marginBottom: \"1rem\",\n    backdropFilter: \"blur( 10px )\",\n    WebkitBackdropFilter: \"blur( 10px )\",\n    background: \"rgba(0, 0, 0, 0.13)\",\n  },\n  name: {\n    flex: 1,\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"1rem\",\n    },\n  },\n  callIcon: {\n    transform: \"scaleX(-1)\",\n    transition: \"all 0.5s ease\",\n    cursor: \"pointer\",\n    fontSize: \"2rem\",\n\n    \"&:hover\": {\n      color: theme.palette.secondary.main,\n    },\n  },\n  avatar: {\n    height: theme.spacing(10),\n    width: theme.spacing(10),\n    [theme.breakpoints.down(\"sm\")]: {\n      height: theme.spacing(6),\n      width: theme.spacing(6),\n    },\n  },\n}));\n\nconst SearchResultCard = ({\n  uid = \"\",\n  displayName = \"\",\n  photoURL = \"\",\n  isFriend = false,\n}) => {\n  const classes = useStyles();\n\n  const userData = useSelector((state) => state.user.userData);\n\n  const [sendReq] = useSendFriendRequestMutation();\n\n  if (uid === userData.uid) {\n    return null;\n  }\n\n  // custom functions\n\n  const sendFriendReq = async () => {\n    sendReq({ friendUid: uid });\n  };\n\n  return (\n    <Paper elevation={3} className={classes.root}>\n      <Avatar alt=\"profile\" src={photoURL} className={classes.avatar} />\n      <Typography variant=\"h6\" className={classes.name}>\n        {\" \"}\n        {displayName}{\" \"}\n      </Typography>\n      {!isFriend && (\n        <GroupAddIcon onClick={sendFriendReq} className={classes.callIcon} />\n      )}\n    </Paper>\n  );\n};\n\nexport default SearchResultCard;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nimport { auth } from \"../../lib/firebase/firebase\";\n\nexport const searchApi = createApi({\n  reducerPath: \"searchApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      (process.env.NODE_ENV === \"production\"\n        ? process.env.REACT_APP_BACKEND_PROD\n        : process.env.REACT_APP_BACKEND_DEV) + \"/api/search\",\n    prepareHeaders: async (headers) => {\n      const token = await auth.currentUser.getIdToken(true);\n      headers.set(\"Authorization\", `Bearer ${token}`);\n      return headers;\n    },\n  }),\n  endpoints: (builder) => ({\n    getSearchResultsPeople: builder.query({\n      query: (searchString) => ({\n        url: `/people`,\n        params: { searchString },\n      }),\n    }),\n  }),\n});\n\nexport const { useGetSearchResultsPeopleQuery } = searchApi;\n","import { InputAdornment, TextField } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport { makeStyles } from \"@material-ui/core\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  disableFullPageBlur,\n  enableFullPageBlur,\n} from \"../../features/ui/ui-slice\";\nimport debounce from \"lodash.debounce\";\nimport SearchResultCard from \"../SearchResultCard/SearchResultCard\";\nimport { useGetSearchResultsPeopleQuery } from \"../../features/search-api/search-api-slice\";\n\nconst useStyles = makeStyles((theme) => ({\n  searchbar: {\n    maxWidth: \"50rem\",\n    flex: 1,\n    minWidth: \"0\",\n  },\n  smoothAnimation: {\n    borderRadius: theme.spacing(3),\n    transition: \"all 0.4s ease\",\n  },\n  searchContainer: {\n    position: \"absolute\",\n    top: \"12vh\",\n\n    left: \"50%\",\n    minWidth: \"50rem\",\n    zIndex: 10,\n    transform: \"translateX(-50%)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"90%\",\n      top: \"10vh\",\n    },\n  },\n}));\n\nconst NavSearchBar = () => {\n  const classes = useStyles();\n  const [showResults, setShowResults] = useState(false);\n  const [debouncedSearchString, setDebouncedSearchString] = useState(\"\");\n\n  const { data = { users: [] } } = useGetSearchResultsPeopleQuery(\n    debouncedSearchString,\n    {\n      skip: !debouncedSearchString.length,\n    }\n  );\n\n  const dispatch = useDispatch();\n  const fullPageBlurred = useSelector((state) => state.ui.fullPageBlurred);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const setDebouncedSearchStringFunction = useCallback(\n    debounce((value) => {\n      setDebouncedSearchString(value);\n    }, 500),\n    []\n  );\n\n  useEffect(() => {\n    if (showResults) {\n      dispatch(enableFullPageBlur());\n    } else if (!showResults && !debouncedSearchString.length) {\n      dispatch(disableFullPageBlur());\n    }\n  }, [showResults, debouncedSearchString, dispatch]);\n\n  return (\n    <>\n      <TextField\n        className={classes.searchbar}\n        variant=\"outlined\"\n        placeholder=\"Search People\"\n        margin=\"dense\"\n        onChange={(e) => setDebouncedSearchStringFunction(e.target.value)}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon color=\"inherit\" />\n            </InputAdornment>\n          ),\n          classes: {\n            notchedOutline: classes.smoothAnimation,\n          },\n          onFocus: () => setShowResults(true),\n          onBlur: () => setShowResults(false),\n        }}\n      />\n\n      <div className={classes.searchContainer}>\n        {fullPageBlurred\n          ? data.users.map((user, idx) => (\n              <SearchResultCard\n                uid={user.uid}\n                displayName={user.displayName}\n                photoURL={user.photoURL}\n                key={idx}\n                isFriend={user.isFriend}\n              />\n            ))\n          : \"\"}\n      </div>\n    </>\n  );\n};\n\nexport default NavSearchBar;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst INITIAL_STATE = {\n  notificationCount: 0,\n  notificationsData: [],\n  error: null,\n};\n\nconst notificationSlice = createSlice({\n  name: \"notifications\",\n  initialState: INITIAL_STATE,\n  reducers: {\n    setNotificationCount: (state, { payload }) => {\n      state.notificationCount = payload;\n    },\n    setNotifications: (state, { payload }) => {\n      state.notificationsData = payload;\n    },\n  },\n});\n\nexport const { setNotificationCount, setNotifications } =\n  notificationSlice.actions;\nexport default notificationSlice.reducer;\n","import { makeStyles } from \"@material-ui/styles\";\nimport { useState, useEffect } from \"react\";\nimport { firestore } from \"../../lib/firebase/firebase\";\nimport { Avatar, Button, Paper, Typography } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport {\n  useAcceptFriendRequestMutation,\n  useDeclineFriendRequestMutation,\n} from \"../../features/friends-api/friends-api-slice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    minHeight: \"3.5rem\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    gap: \"1rem\",\n    padding: \"0.5rem\",\n    marginBottom: \"1rem\",\n    backdropFilter: \"blur( 10px )\",\n    WebkitBackdropFilter: \"blur( 10px )\",\n    background: \"rgba(0, 0, 0, 0.13)\",\n  },\n  notificationBody: {\n    flex: 1,\n  },\n  buttonContainer: {\n    display: \"flex\",\n    gap: \"0.5rem\",\n  },\n}));\n\nconst NotificationCard = ({ notification }) => {\n  const classes = useStyles();\n\n  const [toUser, setToUser] = useState(null);\n\n  const currentUserUID = useSelector((state) => state.user.userData.uid);\n\n  const notificationRecieved = !!(currentUserUID === notification.to);\n\n  const [acceptReq] = useAcceptFriendRequestMutation();\n  const [declineReq] = useDeclineFriendRequestMutation();\n\n  const { photoURL, displayName } = toUser\n    ? toUser\n    : { photoURL: \"\", displayName: \"\" };\n\n  useEffect(() => {\n    if (notificationRecieved) {\n      firestore\n        .collection(\"users\")\n        .doc(notification.from)\n        .get()\n        .then((res) => setToUser(res.data()));\n    } else {\n      firestore\n        .collection(\"users\")\n        .doc(notification.to)\n        .get()\n        .then((res) => setToUser(res.data()));\n    }\n  }, [notification, notificationRecieved]);\n\n  // custom Functions\n\n  const acceptRequest = () => {\n    acceptReq({\n      friendUid: notification.from,\n      notifId: notification.notificationId,\n    });\n  };\n\n  const declineRequest = () => {\n    declineReq({\n      friendUid: notificationRecieved ? notification.from : notification.to,\n      notifId: notification.notificationId,\n    });\n  };\n\n  // conditional rendering functions\n\n  const notificationBody = () => {\n    if (notification.status === \"pending\") {\n      if (notificationRecieved)\n        return `${displayName} has sent you a connection request.`;\n      else {\n        return `You sent a connection request to ${displayName}.`;\n      }\n    }\n    if (notification.status === \"accepted\") {\n      if (notificationRecieved) {\n        return `You have accepted ${displayName}'s connection request.`;\n      } else {\n        return `${displayName} has accepted your connection request.`;\n      }\n    }\n  };\n\n  const conditionalButtons = () => {\n    if (notification.status === \"pending\") {\n      if (notificationRecieved) {\n        return (\n          <div className={classes.buttonContainer}>\n            <Button\n              style={{ padding: \"5px 9px\" }}\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={acceptRequest}\n            >\n              Accept\n            </Button>\n            <Button\n              style={{ padding: \"5px 9px\" }}\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={declineRequest}\n            >\n              Decline\n            </Button>\n          </div>\n        );\n      } else {\n        return (\n          <Button\n            style={{ padding: \"5px 9px\" }}\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={declineRequest}\n          >\n            Decline\n          </Button>\n        );\n      }\n    }\n  };\n\n  return (\n    <Paper elevation={3} className={classes.root}>\n      <Avatar alt=\"profile\" src={photoURL} className={classes.avatar} />\n      <Typography\n        variant=\"caption\"\n        className={classes.notificationBody}\n        align=\"left\"\n      >\n        {notificationBody()}\n      </Typography>\n      {conditionalButtons()}\n    </Paper>\n  );\n};\n\nexport default NotificationCard;\n","import { makeStyles, Paper } from \"@material-ui/core\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setNotifications } from \"../../features/notifications/notifications-slice\";\nimport { firestore } from \"../../lib/firebase/firebase\";\nimport NotificationCard from \"../NotificationCard/NotificationCard\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"fixed\",\n    top: \"10vh\",\n    right: \"1rem\",\n    width: \"30rem\",\n    maxWidth: \"90%\",\n    padding: \"0.5rem\",\n    zIndex: 2000,\n    backdropFilter: \"blur( 10px )\",\n    WebkitBackdropFilter: \"blur( 10px )\",\n    background: \"rgba(0, 0, 0, 0.3)\",\n    height: \"28rem\",\n    maxHeight: \"80vh\",\n    overflowY: \"scroll\",\n    textAlign: \"center\",\n  },\n}));\n\nconst NotificationDropDown = ({ uid }) => {\n  const classes = useStyles();\n\n  const dispatch = useDispatch();\n\n  const notificationsData = useSelector(\n    (state) => state.notifications.notificationsData\n  );\n\n  useEffect(() => {\n    let unsubscribe;\n    if (uid.length) {\n      firestore\n        .collection(\"users\")\n        .doc(uid)\n        .collection(\"notifications\")\n        .onSnapshot(async (snapshot) => {\n          const notifs = snapshot.docs.map((doc) => doc.data());\n\n          let array = [];\n\n          for (let i = 0; i < notifs.length; i++) {\n            const query = firestore\n              .collection(\"notifications\")\n              .doc(notifs[i].notificationId);\n\n            const notifSnapshot = await query.get();\n\n            const data = notifSnapshot.data();\n\n            array.push({\n              ...data,\n              notificationId: notifSnapshot.id,\n\n              // by default, firebase server timestamp is not serialisable\n              createdAt: data.createdAt?.toMillis() || 0,\n              lastModified: data.lastModified?.toMillis() || 0,\n            });\n          }\n\n          array.sort((a, b) => {\n            return b.lastModified - a.lastModified;\n          });\n\n          dispatch(setNotifications(array));\n        });\n    }\n\n    return unsubscribe;\n  }, [uid, dispatch]);\n\n  return (\n    <Paper className={classes.root}>\n      {notificationsData.map((notification) => (\n        <NotificationCard\n          notification={notification}\n          key={notification.notificationId}\n        />\n      ))}\n    </Paper>\n  );\n};\n\nexport default NotificationDropDown;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  AppBar,\n  Badge,\n  Button,\n  ClickAwayListener,\n  Typography,\n  useMediaQuery,\n  useScrollTrigger,\n  useTheme,\n} from \"@material-ui/core\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport { auth, firestore } from \"../../lib/firebase/firebase\";\nimport toast from \"react-hot-toast\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport NavSearchBar from \"../NavSearchBar/NavSearchBar\";\nimport NotificationDropDown from \"../NotificationDropDown/NotificationDropDown\";\nimport { setNotificationCount } from \"../../features/notifications/notifications-slice\";\nimport { suggestionsApi } from \"../../features/suggestions-api/suggestions-api-slice\";\n\nconst ElevationScroll = (props) => {\n  const { children, window } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n    target: window ? window() : undefined,\n  });\n\n  return React.cloneElement(children, {\n    elevation: trigger ? 6 : 0,\n    id: trigger ? \"navbar-blur\" : \"navbar-noblur\",\n  });\n};\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    padding: \"1rem 16px\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    background: theme.palette.background.default,\n    [theme.breakpoints.up(\"sm\")]: {\n      paddingLeft: \"24px\",\n      paddingRight: \"24px\",\n    },\n\n    \"&#navbar-blur\": {\n      background: \"rgb(0, 0, 0, 0.5)\",\n      transition: \"background 0.5s ease-in-out\",\n      backdropFilter: \" blur(16px) saturate(180%)\",\n      \"&:hover\": {\n        background: theme.palette.background.default,\n      },\n    },\n  },\n  logo: {\n    fontFamily: \"Allison\",\n\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: \"2.5rem\",\n      marginRight: \"1rem\",\n      width: \"fit-content\",\n    },\n  },\n  navLinks: {\n    display: \"flex\",\n    gap: \"1.5rem\",\n\n    [theme.breakpoints.down(\"md\")]: {\n      gap: \"1.2rem\",\n      \"& *\": {\n        padding: 0,\n      },\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: \"0.5rem\",\n      \"& *\": {\n        padding: 0,\n        width: \"fit-content\",\n        minWidth: \"fit-content\",\n        \"& .MuiBadge-badge\": {\n          minWidth: \"20px\",\n        },\n      },\n    },\n  },\n}));\n\nconst Navbar = (props) => {\n  // styles\n  const classes = useStyles();\n\n  const dispatch = useDispatch();\n\n  const userData = useSelector((state) => state.user.userData);\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const matchLocation = useRouteMatch();\n\n  const notificationCount = useSelector(\n    (state) => state.notifications.notificationCount\n  );\n  const [notificationBar, setNotificationBar] = useState(false);\n\n  useEffect(() => {\n    let unsubscribe;\n\n    if (userData) {\n      unsubscribe = firestore\n        .collection(\"users\")\n        .doc(userData.uid)\n        .collection(\"notifications\")\n        .where(\"status\", \"==\", \"pending\")\n        .where(\"seen\", \"==\", false)\n        .onSnapshot((snapshot) => {\n          dispatch(setNotificationCount(snapshot.docs.length));\n          // forcing refetching of suggestions when updating notifications\n          if (matchLocation.path === \"/dashboard\") {\n            const { refetch } = dispatch(\n              suggestionsApi.endpoints.getSuggestions.initiate()\n            );\n            refetch();\n          }\n        });\n    }\n    return unsubscribe;\n  }, [userData, dispatch, matchLocation.path]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <ElevationScroll {...props}>\n        <AppBar className={classes.appBar} elevation={0} color=\"transparent\">\n          <Link to=\"/\">\n            <Typography variant=\"h2\" className={classes.logo}>\n              {matches ? \"VS\" : \"VC Room\"}\n            </Typography>\n          </Link>\n\n          {userData && <NavSearchBar />}\n\n          <div className={classes.navLinks}>\n            {userData ? (\n              <>\n                <Button\n                  onClick={() => setNotificationBar(!notificationBar)}\n                  color=\"primary\"\n                >\n                  <Badge color=\"primary\" badgeContent={notificationCount}>\n                    <NotificationsIcon id=\"notification-dropdown\" />\n                  </Badge>\n                </Button>\n                <Button\n                  color=\"secondary\"\n                  onClick={() => {\n                    auth.signOut();\n                    toast.success(\"Signed Out Successfully\");\n                  }}\n                >\n                  Sign Out\n                </Button>\n              </>\n            ) : (\n              <Button\n                color=\"secondary\"\n                variant=\"outlined\"\n                onClick={() => {\n                  window.open(\"https://github.com/\");\n                }}\n              >\n                Learn More\n              </Button>\n            )}\n          </div>\n        </AppBar>\n      </ElevationScroll>\n      {userData && notificationBar && (\n        <ClickAwayListener\n          onClickAway={(e) => {\n            if (e.target.parentNode.id === \"notification-dropdown\") {\n              return;\n            }\n            setNotificationBar(false);\n          }}\n        >\n          <div>\n            <NotificationDropDown uid={userData.uid} />\n          </div>\n        </ClickAwayListener>\n      )}\n    </div>\n  );\n};\n\nexport default Navbar;\n","import { makeStyles } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { disableFullPageBlur } from \"../../features/ui/ui-slice\";\n\nconst useStyles = makeStyles((theme) => ({\n  disabled: {},\n  enabled: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    zIndex: 10,\n    backdropFilter: \"blur( 10px )\",\n    WebkitBackdropFilter: \"blur( 10px )\",\n    background: \"rgba(0, 0, 0, 0.3)\",\n  },\n}));\n\nconst Blurred = () => {\n  const classes = useStyles();\n\n  const fullPageBlurred = useSelector((state) => state.ui.fullPageBlurred);\n  const dispatch = useDispatch();\n  return (\n    <div\n      onClick={() => dispatch(disableFullPageBlur())}\n      style={{ transition: \"all 0.5s ease\" }}\n      className={fullPageBlurred ? classes.enabled : classes.disabled}\n    />\n  );\n};\n\nexport default Blurred;\n","import { CircularProgress } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100vh\",\n  },\n  loader: {\n    width: \"100px\",\n    height: \"100px\",\n  },\n}));\n\nconst FullPageLoader = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress className={classes.loader} />\n    </div>\n  );\n};\n\nexport default FullPageLoader;\n","import { useEffect, useRef, useState } from \"react\";\nimport moment from \"moment\";\nimport {\n  Chart,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport { Line } from \"react-chartjs-2\";\n// import faker from \"faker\";\nimport { firestore } from \"../../lib/firebase/firebase\";\nimport { makeStyles, useTheme } from \"@material-ui/styles\";\nimport { Paper, Typography, useMediaQuery } from \"@material-ui/core\";\n\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: \"1rem\",\n    flex: 1,\n    position: \"relative\",\n    width: \"60%\",\n    [theme.breakpoints.down(\"800\")]: {\n      padding: \"0.5rem\",\n      overflowX: \"scroll\",\n      width: \"100%\",\n      \"& canvas\": {\n        overflowX: \"scroll\",\n      },\n    },\n  },\n}));\n\nconst CallChart = ({ uid }) => {\n  const [incommingCalls, setIncommingCalls] = useState([]);\n  const [outgoingCalls, setOutgoingCalls] = useState([]);\n  const chartRef = useRef();\n  const containerRef = useRef();\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(\"(max-width:800px)\");\n\n  // get last 10 days data of incomming and outgoing calls\n  const last10Days =\n    incommingCalls.length || outgoingCalls.length\n      ? [...incommingCalls, ...outgoingCalls]\n          .filter(\n            (call) =>\n              new Date(call.timeStamp).getTime() >\n              new Date(new Date().setDate(new Date().getDate() - 10)).getTime()\n          )\n          .sort((a, b) => a.timeStamp - b.timeStamp)\n      : [];\n\n  // count number of days from the first call and today\n  let days = last10Days.length\n    ? moment().diff(moment(last10Days[0].timeStamp), \"days\") +\n      1 +\n      (moment(last10Days[0].timeStamp).isSame(moment(), \"day\") ? 0 : 1)\n    : 0;\n\n  // get 10 days from today\n  const labels = [...Array(10 < days ? 10 : days).keys()]\n    .map((day) => {\n      const dateString = new Date(\n        new Date().setDate(new Date().getDate() - day)\n      ).toDateString();\n      return dateString.slice(4, dateString.length);\n    })\n    .reverse();\n\n  // fetch number of calls from and to the current user in each month from firebase\n  useEffect(() => {\n    let unsubscribeFromOutgoingCallsCollection = () => {};\n    let unsubscribeFromIncomingCallsCollection = () => {};\n    if (uid) {\n      const outgoingCallsCollectionQuery = firestore\n        .collection(\"calls\")\n        .where(\"from\", \"==\", uid)\n        .where(\"callAccepted\", \"==\", true);\n\n      unsubscribeFromOutgoingCallsCollection =\n        outgoingCallsCollectionQuery.onSnapshot((snapshot) => {\n          const calls = snapshot.docs.map((doc) => {\n            return {\n              ...doc.data(),\n              id: doc.id,\n              timeStamp: doc.data().timeStamp.toMillis(),\n            };\n          });\n          setOutgoingCalls(calls);\n        });\n\n      const incomingCallsCollectionQuery = firestore\n        .collection(\"calls\")\n        .where(\"userOnOtherSide\", \"==\", uid)\n        .where(\"callAccepted\", \"==\", true);\n\n      unsubscribeFromIncomingCallsCollection =\n        incomingCallsCollectionQuery.onSnapshot((snapshot) => {\n          const calls = snapshot.docs.map((doc) => {\n            return {\n              ...doc.data(),\n              id: doc.id,\n              timeStamp: doc.data().timeStamp.toMillis(),\n            };\n          });\n          setIncommingCalls(calls);\n        });\n    }\n    return () => {\n      unsubscribeFromOutgoingCallsCollection();\n      unsubscribeFromIncomingCallsCollection();\n    };\n  }, [uid]);\n\n  const data = {\n    labels,\n    datasets: [\n      {\n        label: \"Outgoing Calls\",\n        data: labels.map((label) => {\n          const calls = outgoingCalls.filter(\n            (call) => new Date(call.timeStamp).toDateString().slice(4) === label\n          );\n          return calls.length;\n        }),\n        borderColor: theme.palette.secondary.main,\n        backgroundColor: theme.palette.secondary.main,\n        tension: 0.15,\n      },\n      {\n        label: \"Incoming Calls\",\n        data: labels.map((label) => {\n          const calls = incommingCalls.filter(\n            (call) => new Date(call.timeStamp).toDateString().slice(4) === label\n          );\n          return calls.length;\n        }),\n        borderColor: theme.palette.primary.main,\n        backgroundColor: theme.palette.primary.main,\n        tension: 0.15,\n      },\n    ],\n  };\n\n  useEffect(() => {\n    if (chartRef.current && containerRef.current) {\n      let containerWidth = containerRef.current.clientWidth;\n      let containerHeight = containerRef.current.clientHeight - 60;\n\n      const width =\n        (days * 91 > containerWidth ? days * 91 : containerWidth) - 20;\n\n      const targetCtx = chartRef.current?.getContext(\"2d\");\n      targetCtx.chart.resize(matches ? width : containerWidth, containerHeight);\n\n      window.addEventListener(\"resize\", () => {\n        const width =\n          (days * 91 > containerWidth ? days * 91 : containerWidth) - 20;\n\n        containerWidth = containerRef.current?.clientWidth;\n        containerHeight = containerRef.current?.clientHeight - 60;\n        if (containerHeight && containerWidth) {\n          targetCtx?.chart?.resize(\n            matches ? width : containerWidth,\n            containerHeight\n          );\n        }\n      });\n    }\n\n    window.removeEventListener(\"resize\", () => {\n      console.log(\"removed\");\n    });\n  }, [matches, days]);\n\n  if (!incommingCalls.length && !outgoingCalls.length) {\n    return (\n      <Typography variant=\"h6\" align=\"center\">\n        Go make some calls!\n      </Typography>\n    );\n  }\n\n  return (\n    <Paper ref={containerRef} elevation={9} className={classes.paper}>\n      <Line\n        ref={chartRef}\n        data={data}\n        style={{\n          width: matches ? days * 91 : \"100%\",\n          height: \"100% !important\",\n          display: \"block\",\n          minHeight: \"20rem\",\n          maxHeight: matches ? \"20rem\" : \"70vh\",\n        }}\n        options={{\n          responsive: matches ? false : true,\n          maintainAspectRatio: false,\n          interaction: {\n            mode: \"index\",\n            intersect: false,\n          },\n\n          plugins: {\n            filler: {\n              propagate: true,\n            },\n            legend: {\n              labels: {\n                font: {\n                  size: theme.typography.htmlFontSize,\n                },\n                color: theme.palette.text.primary,\n              },\n            },\n            title: {\n              display: true,\n              text: \"Successfully Connected Calls\",\n              font: {\n                size: matches ? theme.typography.fontSize : 24,\n                family: \"Poppins\",\n                weight: 500,\n              },\n              color: theme.palette.text.primary,\n              align: matches ? \"start\" : \"center\",\n            },\n          },\n          scales: {\n            y: {\n              type: \"linear\",\n              display: true,\n              position: \"left\",\n              id: \"y\",\n              ticks: {\n                font: {\n                  size: matches ? 12 : theme.typography.fontSize,\n                  family: \"Poppins\",\n                },\n                color: theme.palette.text.primary,\n                precision: 0,\n              },\n            },\n            x: {\n              type: \"category\",\n              display: true,\n              position: \"bottom\",\n              id: \"x\",\n              ticks: {\n                font: {\n                  size: matches ? 12 : theme.typography.fontSize,\n                  family: \"Poppins\",\n                },\n                color: theme.palette.text.primary,\n                align: \"center\",\n              },\n            },\n          },\n        }}\n      />\n    </Paper>\n  );\n};\n\nexport default CallChart;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nimport { auth } from \"../../lib/firebase/firebase\";\nimport { rtkQueryToastLoader } from \"../../utils/rtkQueryToastLoader\";\nimport { fetchUserData } from \"../user/user-slice\";\n\nexport const userApi = createApi({\n  reducerPath: \"userApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      (process.env.NODE_ENV === \"production\"\n        ? process.env.REACT_APP_BACKEND_PROD\n        : process.env.REACT_APP_BACKEND_DEV) + \"/api/user\",\n    prepareHeaders: async (headers) => {\n      const token = await auth.currentUser.getIdToken(true);\n      headers.set(\"Authorization\", `Bearer ${token}`);\n      return headers;\n    },\n  }),\n  endpoints: (builder) => ({\n    updateUser: builder.mutation({\n      query: (data) => ({\n        url: \"/updateUser\",\n        method: \"POST\",\n        body: data,\n      }),\n      onQueryStarted: async (_data, { queryFulfilled, dispatch }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Updating User...\", () => {\n          dispatch(fetchUserData(auth.currentUser));\n        });\n      },\n    }),\n    deleteUser: builder.mutation({\n      query: () => `/deleteUser`,\n      onQueryStarted: async (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Deleting User...\", () => {\n          auth.signOut();\n        });\n      },\n    }),\n  }),\n});\n\nexport const { useUpdateUserMutation, useDeleteUserMutation } = userApi;\n","import { useState, useEffect } from \"react\";\nimport {\n  DataGrid,\n  GridToolbarContainer,\n  GridToolbar,\n  GridOverlay,\n} from \"@material-ui/data-grid\";\n\nimport { useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { useFetchAllSessionsOfUserQuery } from \"../../features/payments-api/payments-api-slice\";\nimport {\n  Button,\n  LinearProgress,\n  useMediaQuery,\n  useTheme,\n} from \"@material-ui/core\";\n\nconst columns = [\n  {\n    field: \"createdAt\",\n    headerName: \"Created At\",\n    width: 220,\n    filterable: false,\n\n    valueFormatter: (params) => {\n      return moment(params.value).format(\"DD MMM, YYYY @ h:mm:ss a\");\n    },\n  },\n\n  {\n    field: \"sessionId\",\n    headerName: \"Session Id\",\n    minWidth: 600,\n  },\n  {\n    field: \"amount\",\n    headerName: \"Amount\",\n    width: 150,\n    valueFormatter: (params) => {\n      return `₹ ${params.value}`;\n    },\n  },\n  {\n    field: \"quantity\",\n    headerName: \"Quantity\",\n    width: 150,\n    valueFormatter: (params) => {\n      return `${params.value} VCoins`;\n    },\n  },\n  {\n    field: \"paymentStatus\",\n    headerName: \"Status\",\n    width: 180,\n  },\n\n  {\n    field: \"paidAt\",\n    headerName: \"Paid At\",\n    width: 220,\n    filterable: false,\n\n    valueFormatter: (params) => {\n      return params.value\n        ? moment(params.value).format(\"DD MMM, YYYY @ h:mm:ss a\")\n        : \"Not Paid Yet\";\n    },\n  },\n\n  {\n    field: \"action\",\n    headerName: \"Action\",\n    width: 150,\n    filterable: false,\n    sortable: false,\n\n    renderCell: (params) => {\n      switch (params.getValue(params.id, \"paymentStatus\")) {\n        case \"succeeded\":\n          return (\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => {\n                window.open(params.getValue(params.id, \"receiptUrl\"), \"_blank\");\n              }}\n            >\n              View Receipt\n            </Button>\n          );\n        case \"requires_payment_method\":\n          return (\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => {\n                window.location.href = params.getValue(params.id, \"resumeUrl\");\n              }}\n            >\n              Resume Payment\n            </Button>\n          );\n        default:\n          return \"\";\n      }\n    },\n  },\n];\n\nconst PaymentsTable = () => {\n  const [rows, setRows] = useState([]);\n  const [pageSize, setPageSize] = useState(5);\n\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const currentUserUid = useSelector((state) => state.user.userData.uid);\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useFetchAllSessionsOfUserQuery(null, {\n    skip: !currentUserUid,\n  });\n\n  useEffect(() => {\n    if (data?.sessions) {\n      setRows(data.sessions);\n    } else {\n      setRows([]);\n    }\n  }, [data, loading]);\n\n  return (\n    <div style={{ height: 500, width: \"100%\" }}>\n      <DataGrid\n        rows={rows}\n        columns={columns}\n        pageSize={pageSize}\n        onPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\n        rowsPerPageOptions={[5, 10, 20]}\n        pagination={true}\n        autoHeight\n        loading={loading}\n        components={{\n          Toolbar: (props) => (\n            <GridToolbarContainer\n              style={\n                isMobile\n                  ? {\n                      flexDirection: \"column\",\n                    }\n                  : {\n                      flexDirection: \"row\",\n                    }\n              }\n              {...props}\n            >\n              <GridToolbar\n                style={\n                  isMobile\n                    ? {\n                        flexWrap: \"wrap\",\n                        marginLeft: \"auto\",\n                      }\n                    : {\n                        flexDirection: \"row\",\n                      }\n                }\n                {...props}\n              />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  refetch();\n                }}\n              >\n                Refresh\n              </Button>\n            </GridToolbarContainer>\n          ),\n\n          LoadingOverlay: (props) => (\n            <GridOverlay>\n              <div style={{ position: \"absolute\", top: 0, width: \"100%\" }}>\n                <LinearProgress />\n              </div>\n            </GridOverlay>\n          ),\n        }}\n      />\n    </div>\n  );\n};\n\nexport default PaymentsTable;\n","import {\n  Avatar,\n  Badge,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Paper,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useSelector } from \"react-redux\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\";\nimport { useEffect, useState } from \"react\";\nimport { firestore } from \"../lib/firebase/firebase\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport CallChart from \"../components/CallChart/CallChart\";\nimport {\n  useDeleteUserMutation,\n  useUpdateUserMutation,\n} from \"../features/user-api/user-api-slice\";\nimport toast from \"react-hot-toast\";\nimport CoinCounter from \"../components/CoinCounter/CoinCounter\";\nimport PaymentsTable from \"../components/PaymentsTable/PaymentsTable\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    position: \"relative\",\n    marginTop: \"7rem\",\n\n    width: \"100%\",\n    margin: \"0 auto\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    gap: \"3rem\",\n    padding: \"1.5rem 0\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"90%\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n      marginTop: \"10vh\",\n    },\n  },\n  flexParent: {\n    width: \"60%\",\n    display: \"flex\",\n    gap: \"2rem\",\n    justifyContent: \"center\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: \"1rem\",\n      width: \"100%\",\n    },\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    gap: \"0.5rem\",\n    padding: \"1rem\",\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100%\",\n    },\n  },\n  avatarImage: {\n    width: \"150px\",\n    height: \"150px\",\n    margin: \"0 auto\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"80px\",\n      height: \"80px\",\n    },\n  },\n  editIcon: {\n    width: 35,\n    height: 35,\n    padding: 5,\n    borderRadius: \"50%\",\n    border: `4px solid ${theme.palette.background.paper}`,\n    background: theme.palette.text.primary,\n    cursor: \"pointer\",\n    transition: \"all 0.5s ease\",\n\n    \"&:hover\": {\n      transform: \"scale(1.2) rotate(-20deg)\",\n    },\n\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 30,\n      height: 30,\n      padding: 2,\n    },\n  },\n\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"2rem\",\n    flex: 1,\n  },\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    gap: \"2rem\",\n    width: \"100%\",\n    marginTop: \"auto\",\n\n    [theme.breakpoints.down(\"sm\")]: {\n      gap: \"1rem\",\n    },\n\n    [theme.breakpoints.down(\"xs\")]: {\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: \"1rem\",\n\n      \"& button\": {\n        width: \"100% !important\",\n      },\n    },\n  },\n}));\n\nconst Profile = () => {\n  // styles\n  const classes = useStyles();\n\n  // react router state\n  const history = useHistory();\n\n  // local state\n  const [userDetail, setUserDetail] = useState();\n  const [dirty, setDirty] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  // redux state\n  const user = useSelector((state) => state.user.userData);\n\n  // redux mutations\n  const [updateUser, { isLoading, isSuccess, isError }] =\n    useUpdateUserMutation();\n\n  const [deleteUser, { isLoading: deleteLoading, isSuccess: deleteSuccess }] =\n    useDeleteUserMutation();\n\n  useEffect(() => {\n    if (user) {\n      setUserDetail(user);\n    } else {\n      history.push(\"/\");\n    }\n  }, [user, history]);\n\n  useEffect(() => {\n    // check if any of the key-value of userDetail is changed\n    if (userDetail) {\n      const keys = Object.keys(userDetail);\n      const values = Object.values(userDetail);\n      const dirty = keys.some((key, index) => {\n        return user[key] ? user[key] !== values[index] : false;\n      });\n      setDirty(dirty);\n    }\n  }, [userDetail, user]);\n\n  useEffect(() => {\n    // fetch number of friends of the user from firestore\n\n    let unsubscribeFromFriendsCollection = () => {};\n\n    if (user) {\n      const { uid } = user;\n      const friendCollectionQuery = firestore\n        .collection(\"users\")\n        .doc(uid)\n        .collection(\"friends\");\n\n      unsubscribeFromFriendsCollection = friendCollectionQuery.onSnapshot(\n        (snapshot) => {\n          const numFriends = snapshot.docs.length;\n          setUserDetail((prevState) => {\n            return { ...prevState, numFriends };\n          });\n        }\n      );\n    }\n\n    return () => {\n      unsubscribeFromFriendsCollection();\n    };\n  }, [user]);\n\n  useEffect(() => {\n    // set dirty based on isSuccess\n    if (isSuccess) {\n      setDirty(false);\n    }\n    // reset userDetail if isError\n    if (isError) {\n      setUserDetail((prevState) => {\n        return { ...prevState, ...user };\n      });\n    }\n  }, [isSuccess, isError, user]);\n\n  useEffect(() => {\n    if (deleteSuccess) {\n      history.push(\"/\");\n    }\n  }, [deleteSuccess, history]);\n\n  // helper functions\n\n  const handleImageChange = (e) => {\n    const image = e.target.files[0];\n\n    try {\n      const reader = new FileReader();\n\n      // check if the image is valid\n      if (image.type.split(\"/\")[0] !== \"image\") {\n        throw new Error(\"Invalid image type\");\n      }\n\n      // check if the image is too large\n      if (image.size > 5000000) {\n        throw new Error(\"Image is too large\");\n      }\n\n      reader.readAsDataURL(image);\n      reader.onload = (e) => {\n        setUserDetail((prevState) => {\n          return { ...prevState, photoURL: e.target.result };\n        });\n      };\n    } catch (error) {\n      toast.error(error.message);\n    }\n  };\n\n  const handleUpdateUser = async () => {\n    if (!dirty) {\n      toast.info(\"No changes to update\");\n      return;\n    }\n\n    const body = {};\n\n    // check if displayName is changed\n    if (userDetail.displayName !== user.displayName) {\n      body.displayName = userDetail.displayName;\n    }\n\n    // check if photoURL is changed\n    if (userDetail.photoURL !== user.photoURL) {\n      body.image = userDetail.photoURL;\n    }\n\n    // check if status is changed\n    if (userDetail.status !== user.status) {\n      body.status = userDetail.status;\n    }\n\n    updateUser(body);\n  };\n\n  const handleDeleteUser = async () => {\n    if (deleteLoading) {\n      return;\n    }\n\n    deleteUser();\n  };\n\n  return userDetail ? (\n    <div className={classes.root}>\n      <div className={classes.flexParent}>\n        <Paper elevation={9} className={classes.paper}>\n          <Badge\n            overlap=\"circular\"\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"right\",\n            }}\n            badgeContent={\n              <label htmlFor=\"profile-image\">\n                <EditIcon color=\"primary\" className={classes.editIcon} />\n              </label>\n            }\n          >\n            <Avatar\n              alt={userDetail.displayName}\n              src={userDetail.photoURL}\n              className={classes.avatarImage}\n            />\n            <input\n              style={{ display: \"none\" }}\n              type=\"file\"\n              id=\"profile-image\"\n              accept=\"image/png, image/jpeg\"\n              onChange={handleImageChange}\n            />\n          </Badge>\n          <CoinCounter position=\"static\" />\n          <Typography variant=\"subtitle1\">{userDetail.email}</Typography>\n          <Typography\n            variant=\"subtitle1\"\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"0.5rem\",\n            }}\n          >\n            <GroupIcon />\n            {userDetail.numFriends} Friends\n          </Typography>\n        </Paper>\n\n        <Paper elevation={9} className={`${classes.paper} ${classes.form} `}>\n          <TextField\n            fullWidth={true}\n            color=\"primary\"\n            label=\"Display Name\"\n            type=\"text\"\n            name=\"displayName\"\n            value={userDetail.displayName}\n            onChange={(e) => {\n              if (e.target.value.length <= 50) {\n                setUserDetail({ ...userDetail, displayName: e.target.value });\n              }\n            }}\n            disabled={isLoading}\n          />\n          <TextField\n            color=\"secondary\"\n            fullWidth={true}\n            label=\"Status\"\n            type=\"text\"\n            name=\"status\"\n            value={userDetail.status}\n            onChange={(e) => {\n              if (e.target.value.length <= 80) {\n                setUserDetail({ ...userDetail, status: e.target.value });\n              }\n            }}\n            disabled={isLoading}\n          />\n          <div className={classes.buttonContainer}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={!dirty || isLoading}\n              onClick={handleUpdateUser}\n              style={{\n                minWidth: \"fit-content\",\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                flex: 1,\n              }}\n            >\n              Update\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() => {\n                setUserDetail((prevState) => {\n                  return { ...prevState, ...user };\n                });\n\n                setDirty(false);\n              }}\n              disabled={!dirty || isLoading}\n              style={{\n                minWidth: \"fit-content\",\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                flex: 1,\n              }}\n            >\n              Reset\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => setOpen(true)}\n              fullWidth={true}\n              startIcon={<DeleteIcon />}\n              style={{\n                minWidth: \"fit-content\",\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                flex: 1,\n              }}\n            >\n              Delete Account\n            </Button>\n          </div>\n        </Paper>\n      </div>\n\n      <CallChart uid={user.uid} />\n      <div style={{ width: \"100%\" }}>\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\n          Your Payments\n        </Typography>\n\n        <PaymentsTable />\n      </div>\n\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Are you sure you want to delete your account?\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            This action cannot be undone.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleDeleteUser} color=\"secondary\" autoFocus>\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  ) : null;\n};\n\nexport default Profile;\n","import { Container, makeStyles } from \"@material-ui/core\";\nimport { lazy, Suspense, useEffect, useRef } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { auth } from \"./lib/firebase/firebase\";\nimport { fetchUserData } from \"./features/user/user-slice\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Blurred from \"./components/Blurred/Blurred\";\nimport FullPageLoader from \"./components/FullPageLoader/FullPageLoader\";\nimport Profile from \"./pages/Profile\";\nimport io from \"socket.io-client\";\n\nconst HomePage = lazy(() => import(\"./pages/HomePage\"));\nconst Dashboard = lazy(() => import(\"./pages/Dashboard\"));\nconst CallPage = lazy(() => import(\"./pages/CallPage\"));\nconst Payments = lazy(() => import(\"./pages/Payments\"));\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { userData, error } = useSelector((state) => state.user);\n\n  const socketRef = useRef();\n\n  // handling authentication state\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      dispatch(fetchUserData(user));\n\n      if (user) {\n        toast.success(`Welcome ${user.displayName}`);\n      }\n    });\n\n    // stop listenning when component unmounts\n    return () => {\n      unsubscribe();\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (userData) {\n      auth.currentUser.getIdToken(true).then((token) => {\n        // setup socket connection\n\n        socketRef.current = io(\n          process.env.NODE_ENV === \"production\"\n            ? process.env.REACT_APP_BACKEND_PROD\n            : process.env.REACT_APP_BACKEND_DEV,\n          {\n            auth: {\n              token,\n            },\n          }\n        );\n\n        if (socketRef.current) {\n          socketRef.current.on(\"connect\", () => {\n            console.log(\"connected\");\n          });\n\n          socketRef.current.on(\"disconnect\", () => {\n            console.log(\"disconnected\");\n          });\n\n          socketRef.current.on(\"error\", (error) => {\n            console.log(\"error\", error);\n          });\n        }\n      });\n    } else {\n      if (socketRef.current) {\n        socketRef.current.close();\n        socketRef.current = null;\n      }\n    }\n\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.close();\n        socketRef.current = null;\n      }\n    };\n  }, [userData]);\n\n  // helper functions\n\n  return (\n    <Container maxWidth=\"xl\" className={classes.container}>\n      <Toaster position=\"top-center\" reverseOrder={false} />\n      <Navbar />\n      <Suspense fallback={<FullPageLoader />}>\n        <Switch>\n          <Route path=\"/\" exact>\n            {!(userData && !error) ? (\n              <HomePage />\n            ) : (\n              <Redirect to=\"/dashboard\" />\n            )}\n          </Route>\n          <Route path=\"/dashboard\" exact>\n            {userData && !error ? <Dashboard /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/call\" exact>\n            <CallPage />\n          </Route>\n          <Route path=\"/profile\" exact>\n            <Profile />\n          </Route>\n          <Route path=\"/payments\" exact>\n            <Payments />\n          </Route>\n        </Switch>\n      </Suspense>\n      <Blurred />\n    </Container>\n  );\n};\n\nexport default App;\n","import { createTheme } from \"@material-ui/core/styles\";\n\nexport const theme = createTheme({\n  palette: {\n    type: \"dark\",\n    background: {\n      default: \"#1C1D28\",\n      paper: \"#28293D\",\n    },\n    primary: {\n      main: \"#4e69ff\",\n    },\n  },\n  typography: {\n    fontFamily: '\"Poppins\", sans-serif',\n  },\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userReducer from \"../features/user/user-slice\";\nimport friendsReducer from \"../features/friends/friends-slice\";\nimport uiReducer from \"../features/ui/ui-slice\";\nimport notificationsReducer from \"../features/notifications/notifications-slice\";\nimport callReducer from \"../features/call/call-slice\";\nimport { suggestionsApi } from \"../features/suggestions-api/suggestions-api-slice\";\nimport { friendsApi } from \"../features/friends-api/friends-api-slice\";\nimport { searchApi } from \"../features/search-api/search-api-slice\";\nimport { userApi } from \"../features/user-api/user-api-slice\";\nimport { callApi } from \"../features/call-api/call-api-slice\";\nimport { paymentsApi } from \"../features/payments-api/payments-api-slice\";\n\nexport const store = configureStore({\n  reducer: {\n    user: userReducer,\n    friends: friendsReducer,\n    ui: uiReducer,\n    notifications: notificationsReducer,\n    call: callReducer,\n    [suggestionsApi.reducerPath]: suggestionsApi.reducer,\n    [friendsApi.reducerPath]: friendsApi.reducer,\n    [searchApi.reducerPath]: searchApi.reducer,\n    [userApi.reducerPath]: userApi.reducer,\n    [callApi.reducerPath]: callApi.reducer,\n    [paymentsApi.reducerPath]: paymentsApi.reducer,\n  },\n\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware()\n      .concat(suggestionsApi.middleware)\n      .concat(friendsApi.middleware)\n      .concat(searchApi.middleware)\n      .concat(userApi.middleware)\n      .concat(callApi.middleware)\n      .concat(paymentsApi.middleware),\n});\n\nexport const storeDispatch = store.dispatch;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\";\nimport { theme } from \"./lib/material-ui/theme\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./app/store\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\nReactDOM.render(\n   <React.StrictMode>\n    <BrowserRouter>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </ThemeProvider>\n    </BrowserRouter>,\n   </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nserviceWorkerRegistration.register();\n","import toast from \"react-hot-toast\";\n\nexport const rtkQueryToastLoader = async (\n  promise,\n  loadingMessage,\n  callback = async () => {},\n  afterMessage = false\n) => {\n  let response;\n  await toast.promise(promise, {\n    loading: loadingMessage,\n    success: (data) => {\n      response = data;\n      if (!afterMessage) callback(data);\n      return data.data.message;\n    },\n    error: (data) => {\n      console.error(\"error\", data);\n      return data?.error?.data?.message || \"Error\";\n    },\n  });\n\n  if (afterMessage) await callback(response);\n};\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nimport { auth } from \"../../lib/firebase/firebase\";\nimport { rtkQueryToastLoader } from \"../../utils/rtkQueryToastLoader\";\n\nexport const friendsApi = createApi({\n  reducerPath: \"friendsApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl:\n      (process.env.NODE_ENV === \"production\"\n        ? process.env.REACT_APP_BACKEND_PROD\n        : process.env.REACT_APP_BACKEND_DEV) + \"/api/friends\",\n    prepareHeaders: async (headers) => {\n      const token = await auth.currentUser.getIdToken(true);\n      headers.set(\"Authorization\", `Bearer ${token}`);\n      return headers;\n    },\n  }),\n  endpoints: (builder) => ({\n    sendFriendRequest: builder.mutation({\n      query: (data) => ({\n        url: \"/sendFriendRequest\",\n        method: \"POST\",\n        body: data,\n      }),\n      onQueryStarted: async (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Sending friend request...\");\n      },\n    }),\n    acceptFriendRequest: builder.mutation({\n      query: (data) => {\n        return {\n          url: \"/acceptFriendRequest\",\n          method: \"POST\",\n          body: data,\n        };\n      },\n      onQueryStarted: async (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Accepting friend request...\");\n      },\n    }),\n\n    declineFriendRequest: builder.mutation({\n      query: (data) => {\n        return {\n          url: \"/declineFriendRequest\",\n          method: \"POST\",\n          body: data,\n        };\n      },\n      onQueryStarted: async (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Declining friend request...\");\n      },\n    }),\n\n    removeFriend: builder.mutation({\n      query: (data) => {\n        return {\n          url: \"/removeFriend\",\n          method: \"POST\",\n          body: data,\n        };\n      },\n      onQueryStarted: async (_data, { queryFulfilled }) => {\n        rtkQueryToastLoader(queryFulfilled, \"Removing friend...\");\n      },\n    }),\n  }),\n});\n\nexport const {\n  useAcceptFriendRequestMutation,\n  useSendFriendRequestMutation,\n  useDeclineFriendRequestMutation,\n  useRemoveFriendMutation,\n} = friendsApi;\n"],"sourceRoot":""}